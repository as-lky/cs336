from resiliparse.extract.html2text import extract_plain_text
from resiliparse.parse.encoding import EncodingDetector
from fastwarc.warc import ArchiveIterator, WarcRecordType
import fasttext
import re
import nltk
import mmh3

[1550832987, -926549159, -521724450, -602930862, 614606683, 68482912, 354485049, -1045316932, -1910551831, -1967139722, 1140090711, -535875136, -1087607615, 1871843954, -1623313944, 659956949, -1473647852, 529370089, -687779180, -347473465, 464219485, -585103689, -447851852, -1023316632, 9539044, -155909382, 169032768, -2022314265, 2099921884, -841209373, 897243768, 1389198107, 1124645100, -75847696, -1233450459, 982911364, -1351002331, -143055498, -774291927, -489511255, 638606800, 405430050, -1320657128, 1626639031, -845186600, -1600187611, 1984270561, -1604259763, -189930501, -857733134, 1746920682, -1316804829, 865696318, 1500171875, 405864175, -974147846, 370040904, -1979933832, 1793046148, 655829398, 706998093, 1088080360, -1515413590, 637084441, 1771244859, 52056862, -188268074, 424473658, -922226237, 750051124, -1870877933, -1359125613, -1475310100, 131118469, 812786962, 1501657463, 473897148, -819459463, -1379931375, -384425314, 1595683460, -50785779, 1514475608, -1529529155, 1064462392]
[-25131313, -223452928, -1997091108, -1376398154, 757289163, -1998860958, -1997091108, -1566399166, 423401855, -987083462, 922236783, 907426091, -1584166237, 1658738867, 423401855, 1751326478, 259285188, 1564056031, 423401855, 410288217, -1470027288, -1818954814, -1609236232, -1508729879, -25131313, -2078454075, 907426091, -1487889307, 423401855, -1967762688, 1355179512, 768328608, 928203216, -844975423, -1666775327, -300543461, -1902415214, -528218465, -26077839, -1520486349, -376697165, -25131313, -1523491577, 259285188, 1253223057, -1023604898, 1560953775, 685459810, 1355179512, -1584166237, 266128622, 423401855, 311318494, 259285188, -339808743, -515226482, 423401855, -741465380, -528218465, 1582114136, 506319066, 907426091, 1280302540, 423401855, 1201300016, 259285188, -892827746, 423401855, -123066129, -185847180, 423401855, 2033292698, 907426091, 259285188, -528218465, -1609960569, 210975972, -25131313, -223452928, 259285188, -25131313, -1586874643, 259285188, -339808743, 1877223911, -528218465, -25131313, -223452928, -1902415214]
A = ['THE', 'SOFTWARE', 'IS', 'PROVIDED', '``', 'AS', 'IS', "''", ',', 'WITHOUT', 'WARRANTY', 'OF', 'ANY', 'KIND', ',', 'EXPRESS', 'OR', 'IMPLIED', ',', 'INCLUDING', 'BUT', 'NOT', 'LIMITED', 'TO', 'THE', 'WARRANTIES', 'OF', 'MERCHANTABILITY', ',', 'FITNESS', 'FOR', 'A', 'PARTICULAR', 'PURPOSE', 'AND', 'NONINFRINGEMENT', '.', 'IN', 'NO', 'EVENT', 'SHALL', 'THE', 'AUTHORS', 'OR', 'COPYRIGHT', 'HOLDERS', 'BE', 'LIABLE', 'FOR', 'ANY', 'CLAIM', ',', 'DAMAGES', 'OR', 'OTHER', 'LIABILITY', ',', 'WHETHER', 'IN', 'AN', 'ACTION', 'OF', 'CONTRACT', ',', 'TORT', 'OR', 'OTHERWISE', ',', 'ARISING', 'FROM', ',', 'OUT', 'OF', 'OR', 'IN', 'CONNECTION', 'WITH', 'THE', 'SOFTWARE', 'OR', 'THE', 'USE', 'OR', 'OTHER', 'DEALINGS', 'IN', 'THE', 'SOFTWARE', '.']
B = ['THE', 'SOFTWARE', 'IS', 'PROVIDED', '``', 'AS', 'IS', "''", ',', 'WITHOUT', 'WARRANTY', 'OF', 'ANY', 'KIND', ',', 'EXPRESS', 'OR', 'IMPLIED', ',', 'INCLUDING', 'BUT', 'NOT', 'LIMITED', 'TO', 'THE', 'WARRANTIES', 'OF', 'MERCHANTABILITY', ',', 'FITNESS', 'FOR', 'A', 'PARTICULAR', 'PURPOSE', 'AND', 'NONINFRINGEMENT', '.', 'IN', 'NO', 'EVENT', 'SHALL', 'THE', 'AUTHORS', 'OR', 'COPYRIGHT', 'HOLDERS', 'BE', 'LIABLE', 'FOR', 'ANY', 'CLAIM', ',', 'DAMAGES', 'OR', 'OTHER', 'LIABILITY', ',', 'WHETHER', 'IN', 'AN', 'ACTION', 'OF', 'CONTRACT', ',', 'TORT', 'OR', 'OTHERWISE', ',', 'ARISING', 'FROM', ',', 'OUT', 'OF', 'OR', 'IN', 'CONNECTION', 'WITH', 'THE', 'SOFTWARE', 'OR', 'THE', 'USE', 'OR', 'OTHER', 'DEALINGS', 'IN', 'THE', 'SOFTWARE', '.']
print(mmh3.hash(A[0], 123))
print(mmh3.hash(B[0], 123))

for i in range(len(A)):
    if A[i] != B[i]:
        print(i, A[i], B[i])
# a = [-2022314265, -2087149752, -2093069874, -2077168500, -2116558541, -2128582099, -2040269126, -2025569407, -1970740169, -2125777555, -2055323757, -2130717192, -2144831997, -2123143650, -2103085045, -2146507925, -2132146234, -2120409707, -2138252723, -2132666226, -2131470356, -2111597033, -2140839505, -2101885147, -2071517784, -2131792478, -2136084936, -2142705927, -2119347436, -2132289569, -2125133361, -2142856469, -2063739468, -2133366188, -2030274693, -2135450435, -2126168616, -1984838404, -2103847642, -2069109586, -1900940181, -2122810386, -2129830896, -2108825220, -2088517529, -2080503646, -2124029608, -2118238819, -2070921487, -2018376549, -1728536801, -2003727091, -2088849619, -2097051053, -2135560236, -2131730519, -2139665529, -2112458223, -2105504755, -1999988604, -2093182131, -2146884849, -2131862231, -2127973932, -2122428145, -2077671748, -2090864951, -2127662087, -2103620108, -2140475289, -2092757602, -1992236358, -1848673242, -2142048552, -2140223247, -2111467149, -2108256313, -2138442462, -2090734771, -2072233961, -2144114980, -2128150774, -2145294569, -2146080151, -2123740376, -2123210285, -2132142773, -2077265827, -2145978946, -2117120681, -2076685509, -2113639100, -2115208019, -2083867528, -2126059284, -2137518631, -2138414589, -1983154306, -2123027877, -2090524679, -2103960793, -2098675171, -2138816217, -2055702865, -2089284690, -2144502303, -2146352720, -2066015087, -2062408918, -2104560885, -2094500466, -2141119576, -2102535310, -2146140644, -2000832162, -2088419208, -2116679543, -2138758929, -2146497332, -2087276892, -2147050614, -2050316153, -2027607064, -2134863736, -1929769792, -2076538521, -2026541248, -2092435654, -2106500616, -2143327587, -2096815075, -2051847930, -2096748317, -2131698067, -2124362039, -2107041628, -2066502127, -2088788199, -2132767465, -2075354455, -2115084799, -2038871958, -1970021276, -2125364259, -2057908571, -2121663410, -2045429681, -2137353138, -2094112461, -2134962050, -2098351427, -2143989656, -2111980415, -2129126724, -2146540002, -2063116828, -1965488470, -2050651056, -2066714773, -2045210546, -1820706203, -2014173726, -2140146063, -2124740738, -2126487578, -2088526724, -1965777068, -2017586768, -2092630307, -2061068535, -2131075990, -2132905940, -2136276270, -2136886965, -2110437147, -2143119499, -2070769696, -1946128935, -2122405203, -2059692458, -2106885438, -2145390669, -2108070839, -2132756910, -2105234741, -2134564691, -2097890009, -2126081943, -2086880867, -2108447787, -2125672740, -2088849601, -1969045815, -2144802844, -2113335683, -2101068623, -2107083160, -2129236229, -2114753127, -2138612270, -2121794384, -2122790642, -2143253182, -1965447890, -2130631115, -2144727654, -2137298194, -2103288213, -2061402821, -2088135861, -2117006142, -2081491088, -2076808311, -2097930630, -2122687800, -2126032402, -2143824960, -2124780134, -2103471743, -2126060800, -2061016643, -2113544179, -2084613940, -2022149823, -2108847171, -2041104962, -2127897915, -2143602025, -2089955214, -2112460173, -2127141102, -2136846409, -2127091651, -2127499150, -2113591282, -2010717785, -2109029918, -2018544309, -2071049987, -2115299003, -2124398544, -2077652677, -2123636453, -2095983275, -2119526424, -2112318078, -2005700722, -1987764769, -2098513809, -2108492267, -2147002155, -2072610957, -2139909280, -2091919751, -2054612948, -2083454617, -2078164900, -2028424368, -1971993066, -2051646717, -2127921085, -2102019425, -2115041337, -2101745355, -2131966872, -2123014754, -2048055968, -2095493632, -2145500532, -2073730111, -2106971427, -2025109986, -2113628866, -2016764903, -2119332528, -2080346186, -2145970850, -2140052528, -1895090949, -2108883416, -2141123536, -2130214934, -2023356827, -2145922947, -2124956145, -2119516769, -2138932928, -2146942930, -2138087468, -2134008954, -2073704096, -2079254233, -2005772167, -2115911943, -2134015722, -2141890092, -2117236011, -2128439965, -2052649805, -2123202210, -2131014945, -2134946664, -2142550337, -2122074284, -2140775909, -2137060452, -2081110291, -2089355007, -2124861099, -2137223290, -2006566106, -2111315677, -1917496225, -2054993496, -2132132623, -2119822270, -2090122910, -2121727879, -2146646130, -2145178928, -2020771597, -2138608233, -2134024785, -2146681886, -2111274905, -2141501767, -2047993488, -2123417818, -2145209907, -2032494469, -2146522268, -2141617133, -2122143687, -2133582353, -2130956244, -2126157487, -2085692642, -2124194206, -2133050366, -2136055160, -2143257633, -2107336287, -2137140577, -1989464369, -2146611557, -1922779748, -2131057902, -2142156649, -2090128784, -2144369052, -2142018778, -2118984805, -2014143775, -2126540681, -2106260270, -2069617846, -2038985492, -2102801985, -2120743787, -2140446643, -2143878305, -2145000217, -2049124411, -2129787755, -2081900048, -2111612154, -2120258902, -2050595120, -1931015812, -2131691545, -2139025191, -2035884957, -2139547563, -2118991526, -2145298087, -2147405497, -2124194016, -2118471756, -2142487320, -2091444986, -2141609252, -2093749926, -2120281052, -2135517189, -2138377384, -2102293419, -2093176248, -2126791962, -2084759087, -2137559982, -2115370904, -2122955023, -2108561404, -2094762310, -2145615874, -2140918656, -2113580117, -2122852166, -1976783710, -2105648144, -2054074540, -2035005012, -2140511279, -2124824005, -2083380686, -2113881997, -1969589557, -2058443880, -2094251061, -2031875396, -2091575246, -2115174352, -2123476975, -2135278517, -2029115049, -2080347786, -2096756589, -2124722401, -2107001471, -2141489114, -2099487346, -2116624757, -2096400840, -2120928660, -2033137306, -2067645021, -2130525115, -1912803499, -2146374206, -2105964133, -2016701301, -2119574300, -2124595924, -2116864189, -2141207422, -2108661014, -2056461382, -2130644908, -2099967832, -2145240635, -2144487627, -2084146466, -2141798412, -2077594617, -2058967258, -2087536583, -2144949572, -2113069030, -2146435509, -2141328349, -2059235639, -2142198748, -1883847737, -2141698972, -2115149706, -2101859313, -2119686144, -2056053844, -2146694513, -2054636450, -2142998099, -2088189351, -2131874924, -2088437421, -2095898700, -2083456182, -2098675853, -2112320379, -2116787816, -2019764679, -2045684389, -2094207746, -2126855316, -2089840414, -2088432053, -2010185007, -2100424961, -2143901436, -2131861178, -2103871450, -2140985847, -2131140476, -2142540932, -2097594919, -2129946346, -2125453019, -2141496148, -2141114497, -2107058223, -2142273545, -2136522738, -2073102470, -2070084036, -1865719879, -2136534348, -2126625378, -2072950223, -2112379746, -2114032024, -2076005055]
# b = [-2078454075, -2074153294, -2126975270, -1977438874, -2145753923, -1982097226, -2137303769, -2082973083, -1812947591, -2093746959, -2123786184, -2089366639, -2137035650, -2143516194, -2138884815, -2141489198, -1970750521, -2016068232, -2141202014, -2088942212, -1973414092, -2077354003, -2146417293, -1935546835, -2130127787, -2121750681, -1938789900, -2102294119, -1842383284, -1912317215, -2139927781, -2057111740, -2100002843, -2098177525, -2052223337, -2115715015, -2139508968, -2126396683, -1992662325, -2123974050, -2061131781, -2086209079, -2136563074, -2142863766, -2075126068, -2096959505, -2098980871, -2055203936, -2123217666, -2114768369, -2113958379, -1988558965, -2115762192, -1957270340, -2011001056, -2145636956, -2052612901, -2146899024, -1893849612, -2106020942, -2122591481, -2083403277, -1995586195, -2111510465, -1871206648, -2112870002, -2143789130, -1979957811, -2094834805, -2138302594, -2114263433, -2131539138, -2079156671, -1948715991, -2141797263, -2127840304, -2119230433, -2132125176, -2112766473, -2084276328, -2110373868, -2132158988, -2053920532, -2021150743, -2103249654, -1933405031, -2146766083, -2067277857, -2082561216, -1907252133, -2066275498, -2080576174, -2076398813, -2012344383, -2138079757, -2125746543, -2070322463, -2083371217, -2054544876, -2125464111, -2133824944, -2139061733, -2107157940, -2130848526, -2037073246, -2124472383, -1877865827, -1995071057, -1983433235, -1936274691, -1980719448, -2052782003, -2134975665, -2128907847, -2115852054, -2143670918, -2098630894, -2138988674, -1988055425, -2101750934, -2129715340, -2078528796, -2121492609, -2067745457, -2075030683, -2135399080, -2134443150, -2136805956, -1991492115, -2146551085, -2145616891, -2112476179, -2111796369, -2126421089, -2086215018, -2115424000, -2113591619, -2121904084, -2110253141, -2117157369, -2010450535, -2041223118, -2145350826, -2134154569, -2087510857, -2009274859, -2095928184, -2081191872, -2089131811, -2042814981, -2097130778, -2125220908, -2112155515, -1954134727, -2073135795, -1868095163, -2143537147, -2097896193, -2098746592, -2131112617, -1960734072, -2147349852, -1997628093, -2116016483, -2133099471, -2077995689, -2062604295, -2094386368, -1744844443, -2045396935, -2127526793, -2125265109, -2078470929, -2142823755, -2091881937, -2120950757, -2142862216, -2055369484, -2110371035, -2127996481, -2111715318, -2131017441, -2133393565, -1971853860, -1994854047, -2140015797, -2054669606, -2089971336, -2058972284, -2096474014, -2097871788, -2132616276, -2022379341, -2138350077, -2014428499, -1962601361, -1988661524, -2132271865, -2102747350, -2119635902, -2122061086, -1697831501, -1992665752, -1911304084, -2140948923, -2063848997, -2110807940, -1907879817, -2130579212, -2133746183, -2058647065, -2138184655, -1941847111, -2101077719, -2090992096, -2143291995, -2088396421, -2055691245, -2104561192, -1995798333, -2116806275, -2093735473, -2111401356, -2106469881, -2007846013, -2131785926, -2071227281, -2096855549, -1949466733, -2014220486, -2011490710, -1959538917, -2038106857, -1963951602, -2120414920, -2091511881, -1957099851, -2121748273, -2117790414, -2129918824, -2119807650, -2082868522, -2109075729, -2061226232, -2083575182, -2129238995, -1949276756, -1871784743, -2137494275, -2138163487, -2143027338, -2081017896, -2045565776, -2117712375, -1900365465, -2143045436, -2085600841, -2054870177, -2019256085, -2129111512, -2112959100, -2115141750, -2008025505, -2133745630, -2134988404, -2116188061, -1933584265, -2094073758, -2098488927, -2049995142, -2115782452, -2136282716, -2022908941, -2124250591, -2134908630, -2077327650, -2145037394, -2142295643, -2088493859, -2003715716, -2013649578, -2072876947, -2001396850, -2140531653, -2110083097, -2073686927, -2097115813, -2080417539, -1929878191, -1769316215, -2129857962, -2108055324, -2049832878, -2087328565, -2094944687, -2033242276, -2097882476, -2121668656, -2114349659, -2021236330, -1910529944, -2090637683, -2089886693, -2076476620, -2146513791, -2143042343, -2098917468, -1894422659, -2141991492, -2123040187, -2013180830, -2144920041, -1802799209, -2088842718, -2060102815, -2121157481, -2101538804, -2034762482, -2085357068, -2133637621, -1834103012, -2143087012, -2094411719, -2138432329, -2084935561, -2004039818, -2006160349, -2145719298, -2112534886, -2130664839, -2142798403, -2092676162, -2140039873, -2101533765, -2036069983, -2143897469, -2015392715, -2084257662, -1883316995, -2066063695, -2084112904, -2036640101, -2024703258, -1996813785, -2144909715, -2118527145, -2133824961, -2144596022, -2140591032, -2140802523, -2100693799, -2040113962, -2146352078, -2145702118, -2109359667, -2029015733, -2114319037, -2146649273, -2016109791, -2102533910, -1994869267, -2145716673, -2106027653, -1863607037, -2142272897, -2140577568, -2080009126, -2131955359, -1883471636, -2046111305, -2100741375, -2053104223, -2107736347, -2111495869, -2041910300, -2061790375, -1809659168, -2091966578, -2122631927, -2039873361, -2091868791, -2080218407, -2084802771, -2142186401, -2119719340, -2099290678, -2142706577, -1975045219, -2115293529, -2106830878, -2143859141, -2104652164, -1996448961, -2126410883, -1974103453, -2141525041, -2110627571, -2098347942, -2137216224, -2005041579, -2012065377, -2113539234, -2007740512, -2085253517, -2109892237, -1899450518, -2007042106, -2059304719, -2133177310, -2116206264, -2046649667, -1927632291, -1988689385, -2094172946, -2106203608, -2019806791, -2118639031, -2115344633, -2048157299, -2136667166, -2075166571, -1845266372, -2088143604, -2090071776, -1993993006, -2139048386, -2139228936, -2007348144, -1875261362, -2136269737, -2144686973, -1977379780, -2115855130, -2121002736, -2058890026, -2052331843, -2113278425, -2130281660, -2140017898, -1910662979, -2123723553, -2098134610, -2096842273, -2022864836, -2136550491, -2106030170, -1981985130, -2144839933, -2016257095, -2077323921, -2146150914, -2112920705, -2002835316, -2070736179, -2111812592, -2117615297, -2010745000, -2072333344, -2091365071, -2031731034, -2067266750, -2072608763, -2068221930, -1955416596, -2110672478, -1893784376, -1989885156, -1980704699, -1908281496, -2052985777, -2139261959, -2124944906, -1902269953, -2095838276, -2044298610, -2133431852, -1831942356, -1997834300, -2128574637, -2128169408, -2082723400, -2095858669, -2119671219, -2078310904, -2140351369, -2127221881, -2033638716, -2032034720, -2143078313, -2134631750, -1979067027, -2130609258, -2035614663, -2145679793, -2135215476, -1990828349, -2113623505, -2103970808, -2031490526, -2048788740]
# num = 0
# for i in range(500):
#     if a[i] == b[i]:
#         num += 1
# print(num)    

# A = a[50*i: 50*(i+1)]
    # B = b[50*i: 50*(i+1)]
    # if A == B:
    #     print("!")
# with open('./cs336_data/tmp.txt', 'w') as f:
#     f.write('asdasdsad')
#     f.write('')
    # for a in f:
    #     print(a, end='')
    # f.seek(0)
    # for b in f:
    #     print(b)